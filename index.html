<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>FMR Staff ID Badge Generator</title>
<style>
  :root {
    --fmr-navy: #042945;
    --fmr-blue: #004b87;
    --fmr-green: #53b76a;
    --bg-dark: #0f172a;
    --panel-dark: #1e293b;
    --text-main: #ffffff;
    --text-dim: #94a3b8;
    --radius-lg: .6rem;
    --radius-md: .4rem;
    --font: system-ui,-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
  }

  body{
    background: var(--bg-dark);
    color: var(--text-main);
    font-family: var(--font);
    min-height:100vh;
    margin:0;
    display:grid;
    grid-template-columns: minmax(260px,320px) 1fr;
    gap:1rem;
    padding:1rem;
  }
  @media(max-width:900px){ body{grid-template-columns:1fr;} }

  /* left control panel */
  .panel{
    background:var(--panel-dark);
    border-radius:var(--radius-lg);
    border:1px solid #47556955;
    box-shadow:0 30px 60px -10px rgba(0,0,0,.8);
    display:flex; flex-direction:column;
  }
  .panel-header{ padding:1rem 1rem .5rem; border-bottom:1px solid #33415555; }
  .panel-header h1{ margin:0; font-size:.95rem; font-weight:700; letter-spacing:.2px; }
  .panel-header p{ margin:.4rem 0 0; font-size:.7rem; color:var(--text-dim); line-height:1.4; }
  .panel-body{ padding:1rem; font-size:.8rem; line-height:1.4; display:grid; gap:1rem; }
  label{ display:flex; flex-direction:column; font-size:.7rem; font-weight:600; line-height:1.2; }
  label .hint{ font-weight:400; font-size:.65rem; color:var(--text-dim); }
  select,input{
    margin-top:.4rem; width:100%;
    background:#0f172a; border:1px solid #475569; border-radius:var(--radius-md);
    padding:.5rem .6rem; color:var(--text-main); font-size:.8rem; outline:none;
  }
  select:focus,input:focus{ border-color:var(--fmr-green); box-shadow:0 0 0 2px #53b76a33; }
  .btn-row{
    border-top:1px solid #33415555; background:#02061755; padding:1rem;
    display:flex; flex-wrap:wrap; gap:.5rem; justify-content:flex-end;
    border-radius:0 0 var(--radius-lg) var(--radius-lg);
  }
  button{
    appearance:none; border:0; border-radius:var(--radius-md);
    background:var(--fmr-green); color:#0a0f1f; font-size:.8rem; font-weight:700;
    padding:.6rem .9rem; cursor:pointer; box-shadow:0 20px 30px -8px rgba(83,183,106,.45);
  }
  button.sec{ background:transparent; color:var(--text-dim); border:1px solid #475569; box-shadow:none; }

  /* right preview */
  .preview-area{ display:grid; grid-template-rows:auto 1fr; gap:1rem; }
  .preview-head{ display:flex; justify-content:space-between; align-items:flex-end; flex-wrap:wrap; }
  .preview-head h2{ margin:0; font-size:.95rem; font-weight:700; }
  .preview-head p{ margin:.25rem 0 0; font-size:.7rem; color:var(--text-dim); }
  .preview-grid{ display:flex; flex-wrap:wrap; gap:1rem; }

  /* badge base */
  .badge{
    width:3.375in; height:2.125in; box-sizing:border-box;
    border-radius:.4rem; border:2px solid #0f172a; overflow:hidden;
    box-shadow:0 25px 40px -10px rgba(0,0,0,.8); position:relative;
  }

  /* front */
  .badge-front{
    background:
      radial-gradient(circle at 28% 18%, rgba(83,183,106,.18) 0%, transparent 60%),
      radial-gradient(circle at 72% 78%, rgba(0,75,135,.42) 0%, transparent 70%),
      var(--fmr-navy);
    color:#fff; display:grid; grid-template-rows:auto 1fr auto; padding:.48rem .5rem;
  }
  .front-header{ display:flex; gap:.4rem; align-items:flex-start; }
  .logo-wrap{ width:1.0in; display:flex; flex-direction:column; align-items:center; text-align:center; }
  .logo-wrap img{ max-width:100%; max-height:.9in; object-fit:contain; }
  .clinic-text{ font-size:.42rem; font-weight:600; text-transform:uppercase; letter-spacing:.03em; }
  .clinic-text small{ display:block; font-size:.36rem; font-weight:400; color:#cbd5e1; margin-top:.15rem; font-style:italic; }

  .front-body{ display:grid; grid-template-columns:auto 1fr; gap:.45rem; align-items:center; margin-top:.2rem; }
  .photo-frame{
    width:1in; height:1.25in; background:#0f172a; border:2px solid #1e293b; border-radius:.15rem;
    color:#94a3b8; font-size:.45rem; display:flex; align-items:center; justify-content:center;
    text-align:center; padding:.2rem; box-sizing:border-box;
  }
  .id-info{ display:flex; flex-direction:column; line-height:1.2; position:relative; z-index:1; }
  .emp-name{ font-size:.62rem; font-weight:700; white-space:normal; }
  .emp-role{ font-size:.46rem; font-weight:600; color:var(--fmr-green); margin-top:.15rem; }
  .emp-idline{ font-size:.4rem; color:#cbd5e1; margin-top:.3rem; }

  .front-footer{ display:flex; justify-content:space-between; align-items:flex-end; font-size:.38rem; color:#cbd5e1; margin-top:.28rem; }
  .dept{ color:#fff; font-weight:700; font-size:.4rem; }

  /* code box (right-float) */
  .qr-float{ position:absolute; right:.35rem; top:1.0rem; }
  .qr-box{
    width:1.0in; height:1.0in; background:#fff; border-radius:.15rem;
    display:flex; align-items:center; justify-content:center; overflow:hidden;
    box-shadow:0 8px 18px rgba(0,0,0,.35);
  }
  .qr-box canvas, .qr-box img{ width:100%; height:100%; }
  .barcode-box{
    width:1.0in; height:1.0in; background:#fff; border-radius:.15rem;
    display:none; align-items:center; justify-content:center; overflow:hidden;
    box-shadow:0 8px 18px rgba(0,0,0,.35);
  }
  .barcode-box svg{ width:92%; height:92%; }

  /* back */
  .badge-back{
    background:#fff; color:#0f172a; border:2px solid #0f172a;
    display:flex; flex-direction:column; justify-content:space-between;
    padding:.5rem .5rem .4rem;
  }
  .back-header{ font-size:.5rem; font-weight:700; color:#042945; }
  .clinic-name{ text-transform:uppercase; letter-spacing:.04em; }
  .md-line{ font-size:.45rem; font-weight:500; color:#2563eb; }
  .back-hdr-extra{ margin-top:.3rem; font-size:.45rem; font-weight:500; color:#1e293b; }
  .back-body{ font-size:.4rem; line-hei
